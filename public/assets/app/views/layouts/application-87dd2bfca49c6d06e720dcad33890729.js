CATARSE.LayoutsApplicationView=Backbone.View.extend({initialize:function(){this.dropDownOpened=!1,_.bindAll(this,"render","flash","currentUserDropDown"),this.render()},events:{"submit .search":"search","click a.my_profile_link":"currentUserDropDown","click a.submit_project":"submitDropDown","click a.explore":"exploreDropDown","click a.search":"searchDropDown","focus .form_login.bootstrap-form input":"markLoginForm","focus .form_register.bootstrap-form input":"markRegisterForm"},markRegisterForm:function(o){rootElement=$(o.currentTarget).closest(".bootstrap-form"),rootElement.hasClass("actived")||($(".bootstrap-form").removeClass("actived"),rootElement.addClass("actived"))},markLoginForm:function(o){rootElement=$(o.currentTarget).closest(".bootstrap-form"),rootElement.hasClass("actived")||($(".bootstrap-form").removeClass("actived"),rootElement.addClass("actived"))},search:function(o){var e=this.$(o.target).find("#search").val();return("explore"!=$("#main_content").data("controller-name")||"index"!=$("#main_content").data("action"))&&e.length>0&&(location.href="/explore#search/"+e),!1},flash:function(){setTimeout(function(){this.$(".flash").slideDown("slow")},100),this.$(".flash a").length||setTimeout(function(){this.$(".flash").slideUp("slow")},16e3),$(window).click(function(){this.$(".flash").slideUp()})},currentUserDropDown:function(o){o.preventDefault(),$dropdown=this.$(".dropdown.user"),this.dropDownOpened?(this.dropDownOpened=!1,$dropdown.hide()):($dropdown.show(),this.dropDownOpened=!0)},searchDropDown:function(o){o.preventDefault(),$dropdown=this.$(".dropdown.search"),this.dropDownOpened?(this.dropDownOpened=!1,$dropdown.hide()):($dropdown.show(),this.dropDownOpened=!0)},submitDropDown:function(o){o.preventDefault(),$dropdown=this.$(".dropdown.submit-project"),this.dropDownOpened?(this.dropDownOpened=!1,$dropdown.hide()):($dropdown.show(),this.$(".dropdown.explore-projects").hide(),this.dropDownOpened=!0,this.exploreDropDownOpened=!1)},exploreDropDown:function(o){o.preventDefault(),$dropdown=this.$(".dropdown.explore-projects"),this.exploreDropDownOpened?(this.exploreDropDownOpened=!1,$dropdown.hide()):($dropdown.show(),this.$(".dropdown.submit-project").hide(),this.exploreDropDownOpened=!0,this.dropDownOpened=!1)},render:function(){this.flash()}});